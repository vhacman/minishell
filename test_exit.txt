//nessun argomento
exit

//codice valido
exit 0
exit 1
exit 42
exit 255
exit -1
exit +42


//non numerico
exit abc
exit hello123
exit !@#

//overflow numerico
exit 999999999999999999999
exit -9223372036854775809


//troppi argomenti
exit 1 2
exit 42 hello world


//pipe semplici
exit | exit
exit 0 | exit
exit abc | exit

//pipe complesse
echo "foo" | exit
exit 5 | echo "bar"
exit abc | exit 1
exit 255 | exit abc

//edge case
exit +0 | exit -0


RISOLTO
exit 9223372036854775807 | exit 9223372036854775807
mini-shell  ➤ exit 9223372036854775807 | exit 9223372036854775807
[CREATE] token: 'exit' at 0x4b78f40
[CREATE] token: '9223372036854775807' at 0x4b790b0
[CREATE] token: '|' at 0x4b791c0
[CREATE] token: 'exit' at 0x4b79310
[CREATE] token: '9223372036854775807' at 0x4b79480
exit
==56733== 
==56733== HEAP SUMMARY:
==56733==     in use at exit: 209,438 bytes in 271 blocks
==56733==   total heap usage: 1,073 allocs, 802 frees, 275,293 bytes allocated
==56733== 
==56733== 2 bytes in 1 blocks are still reachable in loss record 1 of 77
==56733==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56733==    by 0x4072D4: ft_strdup (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x402C97: create_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x403069: process_next_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x402F5E: parse_line_to_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x40382E: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733== 
==56733== 24 bytes in 1 blocks are still reachable in loss record 11 of 77
==56733==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56733==    by 0x402C68: create_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x403069: process_next_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x402F5E: parse_line_to_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x40382E: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733== 
==56733== 48 bytes in 2 blocks are still reachable in loss record 19 of 77
==56733==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56733==    by 0x4014AE: create_and_populate_cmd (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x40130F: convert_tokens_to_cmd_list (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x404138: execute_command (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x40399A: process_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x4038AB: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733== 
==56733== 50 bytes in 4 blocks are still reachable in loss record 20 of 77
==56733==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56733==    by 0x4072D4: ft_strdup (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x402C97: create_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x4032F4: handle_word_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x40309B: process_next_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x402F5E: parse_line_to_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x40382E: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733== 
==56733== 80 bytes in 2 blocks are still reachable in loss record 24 of 77
==56733==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56733==    by 0x401D31: create_new_cmd (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x401404: create_and_populate_cmd (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x40130F: convert_tokens_to_cmd_list (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x404138: execute_command (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x40399A: process_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x4038AB: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733== 
==56733== 96 bytes in 4 blocks are still reachable in loss record 27 of 77
==56733==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56733==    by 0x402C68: create_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x4032F4: handle_word_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x40309B: process_next_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x402F5E: parse_line_to_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x40382E: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56733== 
==56733== LEAK SUMMARY:
==56733==    definitely lost: 0 bytes in 0 blocks
==56733==    indirectly lost: 0 bytes in 0 blocks
==56733==      possibly lost: 0 bytes in 0 blocks
==56733==    still reachable: 300 bytes in 14 blocks
==56733==         suppressed: 209,138 bytes in 257 blocks
==56733== 
==56733== For lists of detected and suppressed errors, rerun with: -s
==56733== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 1 from 1)
==56734== 
==56734== HEAP SUMMARY:
==56734==     in use at exit: 209,438 bytes in 271 blocks
==56734==   total heap usage: 1,073 allocs, 802 frees, 275,293 bytes allocated
==56734== 
==56734== 2 bytes in 1 blocks are still reachable in loss record 1 of 77
==56734==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56734==    by 0x4072D4: ft_strdup (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x402C97: create_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x403069: process_next_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x402F5E: parse_line_to_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x40382E: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734== 
==56734== 24 bytes in 1 blocks are still reachable in loss record 11 of 77
==56734==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56734==    by 0x402C68: create_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x403069: process_next_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x402F5E: parse_line_to_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x40382E: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734== 
==56734== 48 bytes in 2 blocks are still reachable in loss record 19 of 77
==56734==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56734==    by 0x4014AE: create_and_populate_cmd (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x40130F: convert_tokens_to_cmd_list (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x404138: execute_command (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x40399A: process_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x4038AB: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734== 
==56734== 50 bytes in 4 blocks are still reachable in loss record 20 of 77
==56734==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56734==    by 0x4072D4: ft_strdup (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x402C97: create_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x4032F4: handle_word_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x40309B: process_next_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x402F5E: parse_line_to_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x40382E: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734== 
==56734== 80 bytes in 2 blocks are still reachable in loss record 24 of 77
==56734==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56734==    by 0x401D31: create_new_cmd (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x401404: create_and_populate_cmd (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x40130F: convert_tokens_to_cmd_list (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x404138: execute_command (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x40399A: process_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x4038AB: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734== 
==56734== 96 bytes in 4 blocks are still reachable in loss record 27 of 77
==56734==    at 0x4848899: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==56734==    by 0x402C68: create_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x4032F4: handle_word_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x40309B: process_next_token (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x402F5E: parse_line_to_tokens (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x40382E: handle_input (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x403A47: start_colored_prompt (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734==    by 0x404EBD: main (in /nfs/homes/vhacman/Desktop/mini-shell/minishell)
==56734== 
==56734== LEAK SUMMARY:
==56734==    definitely lost: 0 bytes in 0 blocks
==56734==    indirectly lost: 0 bytes in 0 blocks
==56734==      possibly lost: 0 bytes in 0 blocks
==56734==    still reachable: 300 bytes in 14 blocks
==56734==         suppressed: 209,138 bytes in 257 blocks
==56734== 
==56734== For lists of detected and suppressed errors, rerun with: -s
==56734== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 1 from 1)






exit 123abc | exit 1 2
minishell: exit: 123abc: numeric argument required
exit
minishell: exit: too many arguments
==150481== 
==150481== HEAP SUMMARY:
==150481==     in use at exit: 208,710 bytes in 233 blocks
==150481==   total heap usage: 896 allocs, 663 frees, 247,429 bytes allocated
==150481== 
==150481== LEAK SUMMARY:
==150481==    definitely lost: 0 bytes in 0 blocks
==150481==    indirectly lost: 0 bytes in 0 blocks
==150481==      possibly lost: 0 bytes in 0 blocks
==150481==    still reachable: 0 bytes in 0 blocks
==150481==         suppressed: 208,710 bytes in 233 blocks
==150481== 
==150481== For lists of detected and suppressed errors, rerun with: -s
==150481== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 1 from 1)
==150482== 
==150482== HEAP SUMMARY:
==150482==     in use at exit: 208,710 bytes in 233 blocks
==150482==   total heap usage: 896 allocs, 663 frees, 247,429 bytes allocated
==150482== 
==150482== LEAK SUMMARY:
==150482==    definitely lost: 0 bytes in 0 blocks
==150482==    indirectly lost: 0 bytes in 0 blocks
==150482==      possibly lost: 0 bytes in 0 blocks
==150482==    still reachable: 0 bytes in 0 blocks
==150482==         suppressed: 208,710 bytes in 233 blocks
==150482== 
==150482== For lists of detected and suppressed errors, rerun with: -s
==150482== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 1 from 1)
mini-shell  ➤
 
